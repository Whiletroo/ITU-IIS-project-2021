@*
  File:   VolunteeringListPage.razor
  Author: Oleksandr Prokofiev (xproko40)
*@

@page "/volunteerings"
@namespace Charity.WEB.Pages

<section class="bg-primary text-light p-2 text-center">
    <div class="d-md-flex align-items-center">
        <div class="input-group mb-1">
            <input type="text" class="form-control" @bind-value="@SearchString" placeholder="Find voluntary work...">
            <button class="btn btn-outline-secondary btn-light" @onclick="OnSearch">Search</button>
        </div>
    </div>
</section>

<div class="container" style="margin-top: 1em">
    @if (VolunteeringList.Count != 0)
    {
        <div class="row row-cols-1 row-cols-md-2 g-4">
        @foreach (var volunteering in VolunteeringList)
        {
            <div class="col-md">
                <NavLink href="@("/volunteerings/"+volunteering.Id)" style="color:black;text-decoration: none"> 
                    <div class="card mb-3" style="max-width: 500em; max-height: 150em;">
                        <div class="row g-0">
                            <div class="col-md-4 p-1 d-flex flex-column" style="max-height: 180px; max-width: 210px; overflow: hidden">
                                <img src="@volunteering.PhotoURL" class="img-fluid rounded-start mt-auto" alt="Card image cap">
                            </div>
                            <div class="col-md">
                                <div class="card-body">
                                    <h5 class="card-title">@volunteering.Title</h5>
                                    <div class="overflow-hidden" style="height: 70px">
                                        @volunteering.Description
                                    </div>
                                    <div class="pt-3">
                                        <NavLink href="@("/volunteerings/"+volunteering.Id)" class="card-link btn btn-primary text-center" style="width: 100%; line-height: 11px">
                                            View details
                                        </NavLink>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </NavLink>
            </div>
        }
        </div>
    }
</div>
